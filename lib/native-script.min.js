var $catch,$host,forData;$host=null,$catch=null,global.rubic={host:function(t){var n,r;return r=t.length,n=t[r-1],"/"!==n&&(t+="/"),$host=t},catch:function(t){return $catch=t},fromDataURL:function(t){var n;return n=t.replace(/data:.*;base64,/,""),"/Base64("+n+")/"},call:function(t,n){var r;return null==n&&(n={}),forData(n,function(t,n,r){var e,a;if(t instanceof Date)return e=t,a=e.getTime(),r[n]="/Date("+a+")/"}),r=""+$host+t,n=JSON.stringify(n),{"Content-Type":"application/json;charset=UTF-8"},new Promise(function(t,e){return fetch(r,{method:"POST",headers:{"Content-Type":"application/json"},body:n}).then(function(n){var r;return r=n.ok,r?n.json().then(function(n){return forData(n,function(t,n,r){var e;if(/^\/Date\(\d+\)\/$/.test(t))return t=t.slice(6,t.length-2),e=parseInt(t),r[n]=new Date(e)}),t(n)}):n.json().then(function(t){return $catch&&$catch(t),e(t)})})})}},forData=function(t,n){var r;return(r=function(t,e,a){var o,c,u,i,f,s,h,l;if("boolean"===(l=typeof t)||"number"===l||"string"===l||t instanceof Date)return n(t,e,a);if(Array.isArray(t)){for(s=[],u=i=0,f=t.length;i<f;u=++i)o=t[u],s.push(r(o,u,t));return s}if("object"==typeof t){h=[];for(c in t)o=t[c],h.push(r(o,c,t));return h}})(t,null,null)};