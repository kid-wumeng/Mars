(function(){var e,t;e=null,window.Rubic={host:function(t){var n,r;return r=t.length,n=t[r-1],"/"!==n&&(t+="/"),e=t},fromDataURL:function(e){var t;return t=e.replace(/data:.*;base64,/,""),"/Base64("+t+")/"},call:function(n,r){var a,s,u;return null==r&&(r={}),t(r,function(e,t,n){var r,a;if(e instanceof Date)return r=e,a=r.getTime(),n[t]="/Date("+a+")/"}),s=""+e+n,r=JSON.stringify(r),u=new XMLHttpRequest,u.open("POST",s,!0),u.setRequestHeader("Content-Type","application/json;charset=UTF-8"),a=localStorage.getItem("Rubic-Token"),a&&u.setRequestHeader("Rubic-Token",a),u.send(r),new Promise(function(e,n){return u.onreadystatechange=function(){var s;if(u.readyState===XMLHttpRequest.DONE&&(a=u.getResponseHeader("Rubic-Token"),a&&localStorage.setItem("Rubic-Token",a),204===u.status&&e(),200===u.status&&(r=JSON.parse(u.responseText),t(r,function(e,t,n){var r;if(/^\/Date\(\d+\)\/$/.test(e))return e=e.slice(6,e.length-2),r=parseInt(e),n[t]=new Date(r)}),e(r)),u.status>=400))return s=JSON.parse(u.responseText),n(s)}})}},t=function(e,t){var n;return(n=function(e,r,a){var s,u,o,i,c,f,l,p;if("boolean"===(p=typeof e)||"number"===p||"string"===p||e instanceof Date)return t(e,r,a);if(Array.isArray(e)){for(f=[],o=i=0,c=e.length;i<c;o=++i)s=e[o],f.push(n(s,o,e));return f}if("object"==typeof e){l=[];for(u in e)s=e[u],l.push(n(s,u,e));return l}})(e,null,null)}}).call(this);